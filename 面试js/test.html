<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    #box ul{
        /*display: block;*/
        /*width: 100%;*/
        /*overflow: hidden;*/
        display: flex;
        flex-flow: column wrap;
        height: 800px;
    }
    #box li{
        box-sizing: border-box;
        list-style: none;
        margin: 10px 50px;
        width: 200px;
        float: left;
        /*display: inline-block;*/
        border: 1px solid;
    }
</style>
<body>
    <input type="text" placeholder="你好" id="test" style="width:100%;height: 30px;">
    <div id="box" style="width: 100%; height: 2000px; background-color: #ddd;">
        <ul>
            <li style="height: 200px;">1</li>
            <li style="height: 300px;">2</li>
            <li style="height: 200px;">3</li>
            <li style="height: 200px;">5</li>
            <li style="height: 300px;">6</li>
            <li style="height: 300px;">7</li>
            <li style="height: 200px;">3</li>
            <li style="height: 200px;">5</li>
            <li style="height: 200px;">6</li>
            <li style="height: 200px;">7</li>
        </ul>
    </div>

    <script src="./防抖/节流.js"></script>
    <script src="./js/数组全排列.js"></script>
    <script type="text/javascript">
        function cb(e){
        	console.log(e)
        }
        function cb2(c){
	        console.log(c.target.value)
        }
        let box = document.querySelector('#box')
        let test = document.querySelector('#test')
        //
        let func = debounce(cb2, 500, true)
        let func2 = throttle(cb, 1000)
        test.addEventListener('input', function(e){
	        func(e)
        })

        window.onscroll = function(e){
	        func2(e)
        }

        // 数据源
        // const arr = [
	     //    {
		 //        id: 1,
		 //        name: "a",
		 //        parent: null
	     //    },
	     //    {
		 //        id: 2,
		 //        name: "b",
		 //        parent: 1
	     //    },
	     //    {
		 //        id: 3,
		 //        name: "c",
		 //        parent: 2
	     //    },
	     //    {
		 //        id: 4,
		 //        name: "d",
		 //        parent: 1
	     //    },
	     //    {
		 //        id: 5,
		 //        name: "e",
		 //        parent: 3
	     //    },
	     //    {
		 //        id: 6,
		 //        name: "f",
		 //        parent: null
	     //    },
	     //    {
		 //        id: 7,
		 //        name: "g",
		 //        parent: 1
	     //    },
	     //    {
		 //        id: 8,
		 //        name: "h",
		 //        parent: 6
	     //    }
        // ]
        //
        // let a=0,b=0;
        // function sortArr(arr, parentId) {
	     //    let getArr = [];
	     //    console.log(arr)
	     //    arr && arr.length>0 && arr.forEach((v, index) => {
	     //    	a++
		 //        if((!parentId && !v.parent) || v.parent == parentId){
			//         let prop = Object.assign({}, v);
			//         let copyArr = [...arr];
			//         copyArr.splice(index, 1)
			//         prop.child = sortArr(copyArr, v.id);
			//         getArr.push(prop);
		 //        }
	     //    })
	     //    return getArr.length > 0 ? getArr : null
        // }
        // function sortArr2(arr, parentId) {
	     //    let getArr = [];
	     //    arr.forEach((v, index) => {
		 //        b++
		 //        if((!parentId && !v.parent) || v.parent == parentId){
			//         let prop = Object.assign({}, v);
			//         prop.child = sortArr2(arr, v.id);
			//         getArr.push(prop);
		 //        }
	     //    })
	     //    return getArr.length > 0 ? getArr : null
        // }
        // console.time('start');
        // console.log(sortArr(arr, null))
        // console.timeEnd('start')
        // console.time('end');
        // console.log(sortArr2(arr, null))
        // console.timeEnd('end')
        // console.log(a,b)
    </script>
</body>
</html>